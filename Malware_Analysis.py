def simulate(entries):
    """
    :param entries: (list(int)) The numerical record files
    :returns: (list(int)) The record files after running the malware
    """
    n = len(entries)
    result = entries[:]
    to_zero = set()

    left_offset = -3
    right_offset = 4

    for i in range(n):
        x_value = entries[i]
        left_index = i + left_offset
        right_index = i + right_offset

        # Check if the left_index is within bounds and meets the condition
        if 0 <= left_index < n and entries[left_index] >= x_value:
            to_zero.add(i)

        # Check if the right_index is within bounds and meets the condition
        if 0 <= right_index < n and entries[right_index] >= x_value:
            to_zero.add(i)

    # Set the identified indices to zero
    for i in to_zero:
        result[i] = 0

    return result

# Example test case
records = [1, 2, 0, 5, 0, 2, 4, 3, 3, 3]
print(simulate(records))
